<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
  <!-- Información del Perfil -->
  <div class="bg-muted/30 border border-border rounded-lg p-6">
    <div class="flex items-center space-x-3 mb-6">
      <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center">
        <svg class="w-5 h-5 text-primary"
             fill="none"
             stroke="currentColor"
             viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z">
          </path>
        </svg>
      </div>
      <h2 class="text-xl font-bold text-foreground">Información del Perfil</h2>
    </div>
    <form method="post"
          action="{% url 'admin_update_profile' %}"
          class="space-y-4">
      {% csrf_token %}
      <div>
        <label for="profile_username"
               class="block text-sm font-medium text-foreground mb-2">Nombre de Usuario *</label>
        <input type="text"
               name="username"
               id="profile_username"
               value="{{ current_user.username }}"
               required
               class="w-full px-4 py-3 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-foreground">
      </div>
      <div>
        <label for="profile_email"
               class="block text-sm font-medium text-foreground mb-2">Email</label>
        <input type="email"
               name="email"
               id="profile_email"
               value="{{ current_user.email }}"
               class="w-full px-4 py-3 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-foreground">
      </div>
      <div>
        <label for="profile_first_name"
               class="block text-sm font-medium text-foreground mb-2">Nombre</label>
        <input type="text"
               name="first_name"
               id="profile_first_name"
               value="{{ current_user.first_name }}"
               class="w-full px-4 py-3 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-foreground">
      </div>
      <div>
        <label for="profile_last_name"
               class="block text-sm font-medium text-foreground mb-2">Apellido</label>
        <input type="text"
               name="last_name"
               id="profile_last_name"
               value="{{ current_user.last_name }}"
               class="w-full px-4 py-3 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-foreground">
      </div>
      <div class="flex justify-end pt-4">
        <button type="submit"
                class="bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          <span>Actualizar Perfil</span>
        </button>
      </div>
    </form>
  </div>
  <!-- Cambiar Contraseña -->
  <div class="bg-muted/30 border border-border rounded-lg p-6">
    <div class="flex items-center space-x-3 mb-6">
      <div class="w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center">
        <svg class="w-5 h-5 text-accent"
             fill="none"
             stroke="currentColor"
             viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
          </path>
        </svg>
      </div>
      <h2 class="text-xl font-bold text-foreground">Cambiar Contraseña</h2>
    </div>
    <form method="post"
          action="{% url 'admin_change_password' %}"
          class="space-y-4">
      {% csrf_token %}
      <div>
        <label for="current_password"
               class="block text-sm font-medium text-foreground mb-2">Contraseña Actual *</label>
        <input type="password"
               name="current_password"
               id="current_password"
               required
               class="w-full px-4 py-3 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-foreground">
      </div>
      <div>
        <label for="new_password"
               class="block text-sm font-medium text-foreground mb-2">Nueva Contraseña *</label>
        <input type="password"
               name="new_password"
               id="new_password"
               required
               class="w-full px-4 py-3 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-foreground">
        <p class="text-xs text-muted-foreground mt-1">Mínimo 8 caracteres</p>
      </div>
      <div>
        <label for="confirm_password"
               class="block text-sm font-medium text-foreground mb-2">Confirmar Nueva Contraseña *</label>
        <input type="password"
               name="confirm_password"
               id="confirm_password"
               required
               class="w-full px-4 py-3 bg-input border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-foreground">
      </div>
      <div class="flex justify-end pt-4">
        <button type="submit"
                class="bg-accent hover:bg-accent/90 text-accent-foreground px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
            </path>
          </svg>
          <span>Cambiar Contraseña</span>
        </button>
      </div>
    </form>
  </div>
</div>
<!-- Información de la Cuenta -->
<div class="bg-muted/30 border border-border rounded-lg p-6 mt-6">
  <h2 class="text-xl font-bold text-foreground mb-4 flex items-center">
    <svg class="w-5 h-5 text-accent mr-2"
         fill="none"
         stroke="currentColor"
         viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
      </path>
    </svg>
    Información de la Sesión
  </h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="bg-card rounded-lg p-4">
      <p class="text-sm text-muted-foreground mb-1">Fecha de Registro</p>
      <p class="text-foreground font-medium">{{ current_user.date_joined|date:"d/m/Y H:i" }}</p>
    </div>
    <div class="bg-card rounded-lg p-4">
      <p class="text-sm text-muted-foreground mb-1">Último Acceso</p>
      <p class="text-foreground font-medium">{{ current_user.last_login|date:"d/m/Y H:i"|default:"Nunca" }}</p>
    </div>
    <div class="bg-card rounded-lg p-4">
      <p class="text-sm text-muted-foreground mb-1">Rol</p>
      <div class="flex flex-wrap gap-1 mt-1">
        {% if current_user.is_superuser %}
          <span class="inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-primary/10 text-primary">Superusuario</span>
        {% endif %}
        {% if current_user.is_staff %}
          <span class="inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-accent/10 text-accent">Staff</span>
        {% endif %}
      </div>
    </div>
    <div class="bg-card rounded-lg p-4">
      <p class="text-sm text-muted-foreground mb-1">Estado de la Cuenta</p>
      {% if current_user.is_active %}
        <span class="inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-green-500/10 text-green-400">Activa</span>
      {% else %}
        <span class="inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-red-500/10 text-red-400">Inactiva</span>
      {% endif %}
    </div>
  </div>
</div>
<!-- Consejos de Seguridad -->
<div class="bg-accent/5 border border-accent/20 rounded-lg p-4 mt-6">
  <div class="flex items-start space-x-3">
    <svg class="w-5 h-5 text-accent flex-shrink-0 mt-0.5"
         fill="none"
         stroke="currentColor"
         viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z">
      </path>
    </svg>
    <div class="text-sm text-muted-foreground">
      <p class="font-medium text-foreground mb-1">Consejos de Seguridad:</p>
      <ul class="space-y-1 list-disc list-inside">
        <li>Usa una contraseña fuerte con al menos 8 caracteres</li>
        <li>Combina letras mayúsculas, minúsculas, números y símbolos</li>
        <li>No compartas tus credenciales con nadie</li>
        <li>Cierra sesión cuando uses computadoras compartidas</li>
      </ul>
    </div>
  </div>
</div>
